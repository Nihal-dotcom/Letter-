using OpenQA.Selenium;
using OpenQA.Selenium.Chrome;

class Program
{
    static void Main()
    {
        // Initialize ChromeDriver
        IWebDriver driver = new ChromeDriver();

        // Navigate to SSO login page
        driver.Navigate().GoToUrl("https://sso.example.com/login");

        // Find username and password input fields and enter credentials
        IWebElement usernameField = driver.FindElement(By.Id("username"));
        IWebElement passwordField = driver.FindElement(By.Id("password"));

        usernameField.SendKeys("your_username");
        passwordField.SendKeys("your_password");

        // Submit the login form
        passwordField.Submit();

        // Handle redirects/callbacks if necessary
        // Add appropriate waits to ensure authentication completion

        // Example: Wait for the dashboard element to be present
        WebDriverWait wait = new WebDriverWait(driver, TimeSpan.FromSeconds(10));
        wait.Until(ExpectedConditions.ElementIsVisible(By.Id("dashboard")));

        // Perform assertions or navigate to the desired page
        Assert.IsTrue(driver.FindElement(By.Id("dashboard")).Displayed);

        // Close the browser
        driver.Quit();
    }
}
