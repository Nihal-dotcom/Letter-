using OpenQA.Selenium;
using OpenQA.Selenium.Chrome;
using OpenQA.Selenium.Support.UI;
using System;

class ikare
{
    static void Main()
    {
        IWebDriver driver = new ChromeDriver();
        driver.Navigate().GoToUrl("https://ikareng.es.ad.adp.com/dashboard");

        WebDriverWait wait = new WebDriverWait(driver, TimeSpan.FromSeconds(30));

        // Wait for the username input field to be clickable
        IWebElement usernameInput = wait.Until(ExpectedConditions.ElementToBeClickable(By.Id("i0116")));
        usernameInput.SendKeys("nihal.sinha@adp.com");

        // Find and click the "Next" button after entering the username
        IWebElement usernameInputNextButton = driver.FindElement(By.Id("idSIButton9"));
        usernameInputNextButton.Click();

        // Wait for the password input field to be clickable
        IWebElement passwordInput = wait.Until(ExpectedConditions.ElementToBeClickable(By.Id("i0118")));
        passwordInput.SendKeys("hello@123");

        // Use WebDriverWait to wait for the "Submit" button and click it
        IWebElement passwordInputSubmitButton = wait.Until(ExpectedConditions.ElementToBeClickable(By.Id("idSIButton9")));
        passwordInputSubmitButton.Click();

        // Add a sleep or WebDriverWait for any additional actions after login if needed
        // For example: wait.Until(ExpectedConditions.ElementIsVisible(By.Id("dashboardElement")));

        driver.Quit();
    }
}
